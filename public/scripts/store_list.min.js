(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};window.StoreList=function(){function e(e){this.ref=e,this.setInteractions=t(this.setInteractions,this),this.updateStores=t(this.updateStores,this),this.createList=t(this.createList,this),this.list=this.ref.find("#content #searchResult"),event_emitter.addListener("DATA_READY",this.createList),event_emitter.addListener("REFRESH_STORES",this.updateStores)}return e.prototype.createList=function(t){var e,s,i,r,n,a;for(r=[],e=n=0,a=t.length;a>=0?a>n:n>a;e=a>=0?++n:--n)i="1"===t[e].new_store?"<div class='ico-new' data-icon='z'>":"",s=0===e%2?"odd":"",r.push("<li class='item "+s+"' data-marker='"+e+"'><a href='#' class='storeSummary'>"+i+"</div>				<h2 class='storeName'><span class='icon' data-icon='f'></span><span class='label'>"+t[e].title+"</span></h2>        <p class='storeAddress'>"+t[e].address+", "+t[e].cap+", "+t[e].city+", "+t[e].country+"</p>        <p class='storePhone'><span class='icon' data-icon='g'></span><span class='label'>"+t[e].tel+"</span></p>        <p class='storeDistance'>1.1km</p>          </a>        </li>");return this.list.html(r.join("")),"undefined"!=typeof store_list_iscroll&&null!==store_list_iscroll&&store_list_iscroll.refresh(),this.setInteractions(),event_emitter.emitEvent("STORE_LIST_READY")},e.prototype.updateStores=function(t,e){var s,i,r;for(this.store_item=this.list.find(">li"),s=i=0,r=this.store_item.length;r>=0?r>i:i>r;s=r>=0?++i:--i)this.store=$(this.store_item[s]),this.data_marker=parseInt(this.store.attr("data-marker")),this.data_marker===parseInt(t)&&(e?this.store.show():this.store.hide());return"undefined"!=typeof store_list_iscroll&&null!==store_list_iscroll?store_list_iscroll.refresh():void 0},e.prototype.setInteractions=function(){return this.store_item=this.list.find(">li"),this.store_item.click(function(t){var e,s;return t.preventDefault(),s=t.currentTarget,e=$(s).attr("data-marker"),event_emitter.emitEvent("STORE_ITEM_SELECTED",[e]),event_emitter.emitEvent("STORE_ADDRESS_CHANGED"),window.desktop_size?void 0:event_emitter.emitEvent("CLOSE_STORE_TAB")})},e}()}).call(this);