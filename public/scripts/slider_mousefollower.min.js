(function(){var t=function(t,i){return function(){return t.apply(i,arguments)}};window.SliderMouseFollower=function(){function i(i,s){this.ref=i,this.start_id=null!=s?s:"",this.onResize=t(this.onResize,this),this.updatePosition=t(this.updatePosition,this),this.onMouseMove=t(this.onMouseMove,this),this.updateThumbsById=t(this.updateThumbsById,this),this.onThumbClick=t(this.onThumbClick,this),this.onThumbTouchStart=t(this.onThumbTouchStart,this),this.is_ie=$.browser.msie,this.is_mobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i)?!0:!1,this.is_android=navigator.userAgent.match(/Android/i)?!0:!1,this.doc=$(document),this.w=$(window),this.holder=this.ref.find(".thumb-list"),this.loaded=0,this.thumbs=this.holder.find(".thumb"),this.thumbs_array=this.thumbs,this.current_thumb=null,this.fps=30,this.w_width=0,this.ref_height=this.ref.height(),this.holder_width=0,this.thumb_width=0,this.target_vel_min=2,this.target_vel_max=30,this.vel_min=0,this.vel_max=0,this.dur=1.2,this.is_mouse_over=!1,this.is_updating=!1,this.onResize(),this.setHolderWidth(),this.is_mobile||this.w.resize(this.onResize),this.is_mobile?(this.holder.attr("data-scrollable","x"),new EasyScroller(this.holder[0],{scrollingX:!0,scrollingY:!1,zooming:!1})):this.startUpdating(),this.updateThumbsById(this.start_id),this.setInteractions()}return i.prototype.setInteractions=function(){var t,i,s,e,h,o;for(o=[],t=e=0,h=this.thumbs.length;h>=0?h>e:e>h;t=h>=0?++e:--e)i=$(this.thumbs[t]),s=i.find(".thumb-link"),this.is_mobile?(s.bind("touchstart",this.onThumbTouchStart),o.push(s.bind("touchend",this.onThumbClick))):o.push(s.bind("click",this.onThumbClick));return o},i.prototype.onThumbTouchStart=function(t){return this.touch=this.is_android?t.originalEvent.changedTouches[0]:t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],this.touch_start=this.touch.pageX},i.prototype.onThumbClick=function(t){var i;return t.preventDefault(),this.is_mobile&&(this.is_android&&(this.touch=t.originalEvent.changedTouches[0]),Math.abs(this.touch.pageX-this.touch_start)>0)?void 0:(i=$(t.currentTarget).parent(),this.triggerByThumb(i))},i.prototype.triggerByThumb=function(t){var i;return t.hasClass("disabled")?void 0:(i=t.attr("data-id"),this.updateThumbsById(i),event_emitter.emitEvent("THUMB_CLICK",[i]))},i.prototype.updateThumbsById=function(t){var i;return i=$(this.thumbs[this.getIndexById(t)]),null!=this.current_thumb&&i!==this.current_thumb&&(this.current_thumb.removeClass("disabled"),this.current_thumb=null),null===this.current_thumb?(this.current_thumb=i,this.current_thumb.addClass("disabled")):void 0},i.prototype.setWrapperWidth=function(){return this.w_width=this.ref.width()},i.prototype.setHolderWidth=function(){var t;return t=$(this.thumbs[0]),this.thumb_width=parseInt(t.css("width")),this.holder_width=this.thumbs.length*this.thumb_width,this.holder.css({width:""+this.holder_width+"px"})},i.prototype.startUpdating=function(){return this.is_mobile?void 0:(this.is_ie?this.doc.bind("mousemove",this.onMouseMove):this.w.bind("mousemove",this.onMouseMove),this.is_updating=!0,this.setUpdateTimeout())},i.prototype.stopUpdating=function(){return this.is_mobile?void 0:(this.is_ie?this.doc.unbind("mousemove",this.onMouseMove):this.w.unbind("mousemove"),this.is_updating=!1)},i.prototype.onMouseMove=function(t){return this.is_ie?(this.mouseX=t.clientX,this.mouseY=t.clientY):(this.mouseX=t.pageX,this.mouseY=t.pageY)},i.prototype.setUpdateTimeout=function(){return this.update_timeout=window.setTimeout(this.updatePosition,1e3/this.fps)},i.prototype.clearUpdateTimeout=function(){return window.clearTimeout(this.update_timeout)},i.prototype.updatePosition=function(){var t,i,s,e,h,o,r,n;if(this.clearUpdateTimeout(),h=2*((this.mouseX-(this.w.width()-this.w_width))/this.w_width-.5),s=this.holder.position().left,i=Math.max(0,parseInt(this.holder_width-this.w_width)),e=this.vel_min+(1-Math.abs(2*(Math.abs(s)/i-.5)))*this.vel_max,r=s-h*e,t=Math.max(-i,Math.min(0,r)),this.holder.css({left:t}),this.is_updating&&this.setUpdateTimeout(),o=this.is_ie?this.w.scrollTop():0,this.ref.offset().top<=(n=this.mouseY+o)&&n<=this.ref.offset().top+this.ref_height){if(!this.is_mouse_over)return this.is_mouse_over=!0,TweenLite.to(this,this.dur,{vel_min:this.target_vel_min,ease:Power4.easeInOut}),TweenLite.to(this,this.dur,{vel_max:this.target_vel_max,ease:Power4.easeInOut})}else if(this.is_mouse_over)return this.is_mouse_over=!1,TweenLite.to(this,this.dur,{vel_min:0,ease:Power4.easeInOut}),TweenLite.to(this,this.dur,{vel_max:0,ease:Power4.easeInOut})},i.prototype.onResize=function(){return this.setWrapperWidth()},i.prototype.getIndexById=function(t){var i,s,e,h,o,r;for(e=0,s=h=0,r=this.thumbs_array.length;r>=0?r>h:h>r;s=r>=0?++h:--h)if(i=$(this.thumbs_array[s]),o=i.attr("data-id"),o===t){e=s;break}return e},i}()}).call(this);