// Generated by CoffeeScript 1.6.3
(function() {
  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  window.Splash = (function() {
    function Splash(ref) {
      this.ref = ref;
      this.geolocationFailed = __bind(this.geolocationFailed, this);
      this.searchBox = this.ref.find('.js-search_input').get(0);
      this.submit_btn = this.ref.find('.js-search_btn');
      event_emitter.addListener("GEO_LOCATION_FAILED", this.geolocationFailed);
    }

    Splash.prototype.geolocationFailed = function() {
      var _this = this;
      this.ref.show();
      this.ref.parent().parent().show();
      return this.submit_btn.bind('click', function(e) {
        var submit_btn;
        e.preventDefault();
        submit_btn = $(e.currentTarget);
        submit_btn.unbind('click');
        _this.ref.hide();
        _this.ref.parent().parent().hide();
        return event_emitter.emitEvent("MAP_INIT");
      });
    };

    return Splash;

  })();

}).call(this);
