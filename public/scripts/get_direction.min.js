(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};window.GetDirection=function(){function e(e){var i=this;this.ref=e,this.setDestination=t(this.setDestination,this),this.findTravelingMode=t(this.findTravelingMode,this),this.setActive=t(this.setActive,this),this.settingFocus=t(this.settingFocus,this),this.settingTravelingModes=t(this.settingTravelingModes,this),this.showAllTravelOptions=t(this.showAllTravelOptions,this),this.setwalking=t(this.setwalking,this),this.initFlipBtn=t(this.initFlipBtn,this),this.initGDBtn=t(this.initGDBtn,this),this.content=this.ref.find(".direction"),this.travel_modes=this.content.find(".travel-modes >li > a"),this.address_a=this.content.find(".j-address_a"),this.address_b=this.content.find(".j-address_b"),this.getDirection_btn=this.ref.find(".action-bar >button"),this.traveling_mode=google.maps.DirectionsTravelMode.DRIVING,this.flipping_btn=this.ref.find(".address-flip"),this.settingTravelingModes(),this.initGDBtn(),this.initFlipBtn(),event_emitter.addListener("DESTINATION_IS_CHANGED",this.setDestination),event_emitter.addListener("BICYCLE_MODE_ISNT_AVAILABLE",this.setwalking),event_emitter.addListener("SETTING_FOCUS",this.settingFocus),this.content.find(".j-address_a").change(function(){return i.showAllTravelOptions()}),this.content.find(".j-address_b").change(function(){return i.showAllTravelOptions()})}return e.prototype.initGDBtn=function(){var t=this;return this.getDirection_btn.click(function(e){var i,s;return e.preventDefault(),s=t.content.find(".j-address_a").val(),i=t.content.find(".j-address_b").val(),""!==s&&""!==i?event_emitter.emitEvent("TAKE_DIRECTION",[s,i,t.traveling_mode]):void 0})},e.prototype.initFlipBtn=function(){var t=this;return this.flipping_btn.click(function(e){var i,s;return e.preventDefault(),i=t.address_a.val(),s=t.address_b.val(),t.old_a=t.address_a,t.old_b=t.address_b,t.address_a.val(s),t.address_b.val(i),t.address_a=t.old_b,t.address_b=t.old_a,t.getDirection_btn.click()})},e.prototype.setwalking=function(){var t,e,i,s,n;for(s=[],t=e=0,i=this.travel_modes.length;i>=0?i>e:e>i;t=i>=0?++e:--e)n=$(this.travel_modes[t]),"bicycling"===n.attr("data-travelingmode")&&n.addClass("disabled"),"walking"===n.attr("data-travelingmode")?s.push(n.click()):s.push(void 0);return s},e.prototype.showAllTravelOptions=function(){var t,e,i,s,n;for(console.log("changed"),s=[],t=e=0,i=this.travel_modes.length;i>=0?i>e:e>i;t=i>=0?++e:--e)n=$(this.travel_modes[t]),s.push(n.removeClass("disabled"));return s},e.prototype.settingTravelingModes=function(){var t,e,i,s,n,r=this;for(s=[],t=e=0,i=this.travel_modes.length;i>=0?i>e:e>i;t=i>=0?++e:--e)n=$(this.travel_modes[t]),s.push(n.click(function(t){var e;return t.preventDefault(),e=$(t.currentTarget),r.traveling_mode=r.findTravelingMode(e.attr("data-travelingmode")),r.setActive(e),r.getDirection_btn.click()}));return s},e.prototype.settingFocus=function(){return this.address_a.trigger("focus")},e.prototype.setActive=function(t){var e,i,s,n;for(e=i=0,s=this.travel_modes.length;s>=0?s>i:i>s;e=s>=0?++i:--i)n=$(this.travel_modes[e]),n!==t&&n.removeClass("active");return t.addClass("active")},e.prototype.findTravelingMode=function(t){var e;switch(t){case"driving":e=google.maps.DirectionsTravelMode.DRIVING;break;case"bicycling":e=google.maps.DirectionsTravelMode.BICYCLING;break;case"walking":e=google.maps.DirectionsTravelMode.WALKING}return e},e.prototype.setDestination=function(t){return this.address_b.val(t)},e}()}).call(this);